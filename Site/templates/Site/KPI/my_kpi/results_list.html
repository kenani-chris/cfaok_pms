{% extends 'Site/KPI/my_kpi/default.html' %}
    {% block breadcrumb %}
        <li class="breadcrumb-item active"><a href="{% url 'Site:My_KPI' company_id %}">My KPI</a></li>
        <li class="breadcrumb-item active">Results View</li>
    {% endblock %}
    {% block page_title %}My KPI - Results View{% endblock %}
    {% block content %}

                <!-- KPI Form -->

        <div class="container-fluid">
            <div class="card">
                <div class="card-header">
                    <h5>Approved KPIs</h5>
                </div>
                <div class="card-body" style="overflow-x: scroll">
                    {% if kpi_type == "BSC" %}
                        <table class="table table-bordered table-hover">
                          <thead>
                              <tr>
                                <th>KPI</th>
                                <th>Function</th>
                                <th>Calculation</th>
                                <th>Weight</th>
                                <th class="bg-color1">Pillar</th>
                                <th class="bg-color1">S</th>
                                <th class="bg-color1">A</th>
                                <th class="bg-color1">B</th>
                                <th class="bg-color1">C</th>
                                <th class="bg-color1">D</th>
                                <th>April</th>
                                <th>May</th>
                                <th>Jun</th>
                                <th>Jul</th>
                                <th>Aug</th>
                                <th>Sep</th>
                                <th>Oct</th>
                                <th>Nov</th>
                                <th>Dec</th>
                                <th>Jan</th>
                                <th>Feb</th>
                                <th>Mar</th>
                              </tr>
                              </thead>
                          <tbody>
                              {% for kpi in approved_kpi %}
                                  <tr>
                                    <td><a href="{% url 'Site:My_KPI_Results' company_id kpi.kpi_id %}">{{ kpi.kpi_title }}</a></td>
                                    <td>{{ kpi.kpi_function }}</td>
                                    <td>{{ kpi.kpi_type }}</td>
                                    <td>{{ kpi.kpi_weight }}</td>
                                    <td class="bg-color1">{{ kpi.kpi_bsc_pillar }}</td>
                                    <td class="bg-color2">{{ kpi.kpi_bsc_s_target }}</td>
                                    <td class="bg-color2">{{ kpi.kpi_bsc_a_target }}</td>
                                    <td class="bg-color2">{{ kpi.kpi_bsc_b_target }}</td>
                                    <td class="bg-color2">{{ kpi.kpi_bsc_c_target }}</td>
                                    <td class="bg-color2">{{ kpi.kpi_bsc_d_target }}</td>
                                    <td {% if kpi.kpi_april_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_april_score }}</td>
                                    <td {% if kpi.kpi_may_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_may_score }}</td>
                                    <td {% if kpi.kpi_june_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_june_score }}</td>
                                    <td {% if kpi.kpi_july_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_july_score }}</td>
                                    <td {% if kpi.kpi_august_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_august_score }}</td>
                                    <td {% if kpi.kpi_september_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_september_score }}</td>
                                    <td {% if kpi.kpi_october_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_october_score }}</td>
                                    <td {% if kpi.kpi_november_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_november_score }}</td>
                                    <td {% if kpi.kpi_december_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_december_score }}</td>
                                    <td {% if kpi.kpi_january_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_january_score }}</td>
                                    <td {% if kpi.kpi_february_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_february_score }}</td>
                                    <td {% if kpi.kpi_march_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_march_score }}</td>

                              {% endfor %}
                          </tbody>
                     </table>
                    {% elif kpi_type == "Monthly Target" %}
                        <table class="table table-bordered table-hover">
                          <thead>
                              <tr>
                                <th>KPI</th>
                                <th>Function</th>
                                <th>Weight</th>
                                <th></th>
                                <th>Apr</th>
                                <th>May</th>
                                <th>Jun</th>
                                <th>Jul</th>
                                <th>Aug</th>
                                <th>Sep</th>
                                <th>Oct</th>
                                <th>Nov</th>
                                <th>Dec</th>
                                <th>Jan</th>
                                <th>Feb</th>
                                <th>Mar</th>
                              </tr>
                              </thead>
                          <tbody>
                              {% for kpi in approved_kpi %}
                                  <tr>
                                    <td rowspan="2"><a href="{% url 'Site:My_KPI_Results' company_id kpi.kpi_id %}">{{ kpi.kpi_title }}</a></td>
                                    <td rowspan="2">{{ kpi.kpi_function }}</td>
                                    <td rowspan="2">{{ kpi.kpi_weight }}</td>
                                    <td>TGT</td>
                                    <td>{{ kpi.kpi_april_target }}</td>
                                    <td>{{ kpi.kpi_may_target }}</td>
                                    <td>{{ kpi.kpi_june_target }}</td>
                                    <td>{{ kpi.kpi_july_target }}</td>
                                    <td>{{ kpi.kpi_august_target }}</td>
                                    <td>{{ kpi.kpi_september_target }}</td>
                                    <td>{{ kpi.kpi_october_target }}</td>
                                    <td>{{ kpi.kpi_november_target }}</td>
                                    <td>{{ kpi.kpi_december_target }}</td>
                                    <td>{{ kpi.kpi_january_target }}</td>
                                    <td>{{ kpi.kpi_february_target }}</td>
                                    <td>{{ kpi.kpi_march_target }}</td>
                                  </tr>
                                  <tr>
                                    <td>ACT</td>
                                    <td {% if kpi.kpi_april_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_april_score }}</td>
                                    <td {% if kpi.kpi_may_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_may_score }}</td>
                                    <td {% if kpi.kpi_june_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_june_score }}</td>
                                    <td {% if kpi.kpi_july_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_july_score }}</td>
                                    <td {% if kpi.kpi_august_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_august_score }}</td>
                                    <td {% if kpi.kpi_september_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_september_score }}</td>
                                    <td {% if kpi.kpi_october_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_october_score }}</td>
                                    <td {% if kpi.kpi_november_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_november_score }}</td>
                                    <td {% if kpi.kpi_december_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_december_score }}</td>
                                    <td {% if kpi.kpi_january_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_january_score }}</td>
                                    <td {% if kpi.kpi_february_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_february_score }}</td>
                                    <td {% if kpi.kpi_march_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_march_score }}</td>
                                  </tr>

                              {% endfor %}
                          </tbody>
                     </table>
                    {% else %}
                        <table id="simpleTable" class="table table-bordered table-hover">
                          <thead>
                              <tr>
                                <th>KPI</th>
                                <th>Function</th>
                                <th>Calculation</th>
                                <th>Weight</th>
                                <th>Target</th>
                                <th>Apr</th>
                                <th>May</th>
                                <th>Jun</th>
                                <th>Jul</th>
                                <th>Aug</th>
                                <th>Sep</th>
                                <th>Oct</th>
                                <th>Nov</th>
                                <th>Dec</th>
                                <th>Jan</th>
                                <th>Feb</th>
                                <th>Mar</th>
                              </tr>
                              </thead>
                          <tbody>
                              {% for kpi in approved_kpi %}
                                  <tr>
                                    <td><a href="{% url 'Site:My_KPI_Results' company_id kpi.kpi_id %}">{{ kpi.kpi_title }}</a></td>
                                    <td>{{ kpi.kpi_function }}</td>
                                    <td>{{ kpi.kpi_type }}</td>
                                    <td>{{ kpi.kpi_weight }}</td>
                                    <td>{{ kpi.kpi_target }}</td>
                                    <td {% if kpi.kpi_april_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_april_score }}</td>
                                    <td {% if kpi.kpi_may_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_may_score }}</td>
                                    <td {% if kpi.kpi_june_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_june_score }}</td>
                                    <td {% if kpi.kpi_july_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_july_score }}</td>
                                    <td {% if kpi.kpi_august_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_august_score }}</td>
                                    <td {% if kpi.kpi_september_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_september_score }}</td>
                                    <td {% if kpi.kpi_october_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_october_score }}</td>
                                    <td {% if kpi.kpi_november_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_november_score }}</td>
                                    <td {% if kpi.kpi_december_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_december_score }}</td>
                                    <td {% if kpi.kpi_january_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_january_score }}</td>
                                    <td {% if kpi.kpi_february_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_february_score }}</td>
                                    <td {% if kpi.kpi_march_score_approve is True %}class="bg-success" {% endif %}>{{ kpi.kpi_march_score }}</td>

                              {% endfor %}
                          </tbody>
                     </table>
                    {% endif %}
                </div>
            </div>
        </div>

    {% endblock %}