{% extends 'Site/Profile/default.html' %}
    {% block breadcrumb %}
        <li class="breadcrumb-item active">Profile</li>
    {% endblock %}
    {% block page_title %}Profile{% endblock %}
    {% block content %}


        <div class="container-fluid">
            <div class="row">
                <div class="col-md-3">

                    <div class="card card-primary card-outline">
                        <div class="card-body box-profile">
                            <h3 class="profile-username text-center">{{ account.staff_person.get_full_name }}</h3>
                            <ul class="list-group list-group-unbordered mb-3">
                                <li class="list-group-item">
                                    <b>Username</b> <a class="float-right">{{ account.staff_person.username  }}</a>
                                </li>
                                <li class="list-group-item">
                                    <b>PF</b> <a class="float-right">{{ account.staff_pf_number }}</a>
                                </li>
                                <li class="list-group-item">
                                    <b>Grade</b> <a class="float-right">{{ account.staff_grade }}</a>
                                </li>
                                <li class="list-group-item">
                                    <b>Date Created</b> <a class="float-right">{{ account.staff_person.date_joined}}</a>
                                </li>
                                <li class="list-group-item">
                                    <b>Last LogIn</b> <a class="float-right">{{ account.staff_person.last_login }}</a>
                                </li>
                            </ul>
                            <a class="btn btn-success btn-block" href="{% url 'self_change_user_password' %}">Change password</a>
                        </div>
                    </div>
                </div>

                <div class="col-md-9">
                    <div class="card">
                        <div class="card-header p-2">
                            Profile
                        </div>
                        <div class="card-body">
                            <table class="table table-bordered">
                                <thead>
                                    <th>Level</th>
                                    <th>Name</th>
                                    <th>Head</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th>Team</th>
                                        <td>{{ team.level_name }}</td>
                                        <td>{{ team.level_head }}</td>
                                    </tr>
                                    <tr>
                                        <th>BU</th>
                                        <td>{{ bu.level_name }}</td>
                                        <td>{{ bu.level_head }}</td>
                                    </tr>
                                    <tr>
                                        <th>Company</th>
                                        <td>{{ company.level_name }}</td>
                                        <td>{{ company.level_head }}</td>
                                    </tr>

                                </tbody>
                            </table>

                        </div>
                    </div>

                </div>

            </div>

        </div>

        <br>
        <hr>
        <br>
        <div class="container-fluid">
            <div class="card">
                <div class="card-header">
                    <h5>Access Accounts</h5>
                </div>
                 <table id="simpleTable" class="table table-bordered table-hover">
                      <thead>
                          <tr>
                            <th>Company</th>
                            <th>PF</th>
                            <th>Grade</th>
                            <th>Active</th>
                            <th>Superuser</th>
                            <th>Date created</th>
                            <th>Category</th>
                          </tr>
                          </thead>
                      <tbody>

                          {% for account in accounts %}
                              <tr>
                                    <td>{{ account.staff_company }}</td>
                                    <td>{{ account.staff_pf_number }}</td>
                                    <td>{{ account.staff_grade }}</td>
                                    <td>{{ account.staff_active }}</td>
                                    <td>{{ account.staff_superuser }}</td>
                                    <td>{{ account.staff_date_created }}</td>
                                    <td>{{ account.staff_category }}</td>
                              </tr>

                          {% endfor %}
                      </tbody>
                 </table>
            </div>

            <div class="card">
                <div class="card-header">
                    <h5>My Memberships</h5>
                </div>
                 <table id="simpleTable" class="table table-bordered table-hover">
                      <thead>
                          <tr>
                            <th>Staff</th>
                            <th>Member</th>
                            <th>Active</th>
                          </tr>
                          </thead>
                      <tbody>
                          {% for member in memberships %}
                              <tr>
                                <td>{{ member.membership_staff }}</td>
                                <td>{{ member.membership_level }}</td>
                                <td>{{ member.membership_is_active }}</td>
                              </tr>
                          {% endfor %}
                      </tbody>
                 </table>
            </div>

            <div class="card">
                <div class="card-header">
                    <h5>Levels I Head</h5>
                </div>
                 <table id="simpleTable" class="table table-bordered table-hover">
                      <thead>
                          <tr>
                            <th>Name</th>
                            <th>Parent</th>
                            <th>Head</th>
                            <th>Category</th>
                          </tr>
                          </thead>
                      <tbody>

                          {% for level in heading_levels %}
                              <tr>
                                <td>{{ level.level_name }}</td>
                                <td>{{ level.level_parent }}</td>
                                <td>{{ level.level_head }}</td>
                                <td>{{ level.level_category }}</td>
                              </tr>
                          {% endfor %}
                      </tbody>
                 </table>
            </div>

            <div class="card">
                <div class="card-header">
                    <h5>My Level Members</h5>
                </div>
                 <table id="simpleTable" class="table table-bordered table-hover">
                      <thead>
                          <tr>
                            <th>Staff</th>
                            <th>Member</th>
                            <th>Active</th>
                          </tr>
                          </thead>
                      <tbody>
                          {% for membership in heading_members %}
                              {% for member in memberships %}
                                  <tr>
                                    <td>{{ member.membership_staff }}</td>
                                    <td>{{ member.membership_level }}</td>
                                    <td>{{ member.membership_is_active }}</td>
                                  </tr>
                              {% endfor %}
                          {% endfor %}
                      </tbody>
                 </table>
            </div>
        </div>


    {% endblock %}